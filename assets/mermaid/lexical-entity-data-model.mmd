---
config:
    flowchart:
        defaultRenderer: elk
---

graph BT
%% Nodes
Document("Document<br/>id: STRING | KEY<br/>name: STRING<br/>source: STRING")
Chunk("Chunk<br/>id: STRING | KEY<br/>type: STRING<br/>text: STRING<br/>embedding: LIST")
TextElement("TextElement:UnstructuredElement<br/>id: STRING | KEY<br/>text: STRING<br/>type: STRING<br/>pageNumber: INTEGER")
ImageElement("ImageElement:UnstructuredElement<br/>id: STRING | KEY<br/>text: STRING<br/>type: STRING<br/>pageNumber: INTEGER<br/>imageBase64: STRING<br/>imageMimeType: STRING")
TableElement("TableElement:UnstructuredElement<br/>id: STRING | KEY<br/>text: STRING<br/>type: STRING<br/>pageNumber: INTEGER<br/>imageBase64: STRING<br/>imageMimeType: STRING<br/>textAsHtml: STRING")

Medication("Medication<br/>name: STRING | KEY<br/>medicationClass: STRING<br/>mechanism: STRING<br/>genericName: STRING<br/>brandNames: LIST<br/>approvalStatus: STRING")
TreatmentArm("TreatmentArm<br/>id: STRING | KEY<br/>studyName: STRING<br/>name: STRING")
ClinicalOutcome("ClinicalOutcome<br/>id: STRING | KEY<br/>studyName: STRING<br/>name: STRING")
MedicalCondition("MedicalCondition<br/>name: STRING | KEY<br/>category: STRING<br/>icd10Code: STRING")
StudyPopulation("StudyPopulation<br/>id: STRING | KEY<br/>description: STRING<br/>studyName: STRING<br/>minAge: INTEGER<br/>maxAge: INTEGER<br/>malePercentage: FLOAT<br/>femalePercentage: FLOAT<br/>otherGenderPercentage: FLOAT<br/>sampleSize: INTEGER<br/>studyType: STRING<br/>inclusionCriteria: LIST<br/>exclusionCriteria: LIST<br/>studyDuration: STRING")


%% Relationships
Chunk -->|PART_OF_DOCUMENT| Document
Chunk -->|NEXT_CHUNK| Chunk
TextElement -->|PART_OF_CHUNK| Chunk
ImageElement -->|PART_OF_CHUNK| Chunk
TableElement -->|PART_OF_CHUNK| Chunk

Medication -->|USED_IN_TREATMENT_ARM<br/>studyName: STRING<br/>treatmentArm: STRING<br/>medication: STRING<br/>dosage: STRING<br/>route: STRING<br/>frequency: STRING<br/>treatmentDuration: STRING<br/>comparator: STRING<br/>adherenceRate: FLOAT<br/>formulation: STRING| TreatmentArm
TreatmentArm -->|HAS_CLINICAL_OUTCOME| ClinicalOutcome
StudyPopulation -->|HAS_MEDICAL_CONDITION| MedicalCondition
StudyPopulation -->|HAS_CLINICAL_OUTCOME| ClinicalOutcome
StudyPopulation -->|IN_TREATMENT_ARM| TreatmentArm

Chunk -->|HAS_ENTITY|ClinicalOutcome
Chunk -->|HAS_ENTITY|TreatmentArm
Chunk -->|HAS_ENTITY|MedicalCondition
Chunk -->|HAS_ENTITY|Medication
Chunk -->|HAS_ENTITY|StudyPopulation

%% Styling - Left align text
classDef node_0_color fill:#e3f2fd,stroke:#1976d2,stroke-width:3px,color:#000,font-size:12px,text-align:left
class Document node_0_color

classDef node_1_color fill:#f3e5f5,stroke:#7b1fa2,stroke-width:3px,color:#000,font-size:12px,text-align:left
class Chunk node_1_color

classDef node_3_color fill:#fff3e0,stroke:#f57c00,stroke-width:3px,color:#000,font-size:12px,text-align:left
class TextElement node_3_color

classDef node_4_color fill:#fce4ec,stroke:#c2185b,stroke-width:3px,color:#000,font-size:12px,text-align:left
class ImageElement node_4_color

classDef node_5_color fill:#e0f2f1,stroke:#00695c,stroke-width:3px,color:#000,font-size:12px,text-align:left
class TableElement node_5_color

classDef node_6_color fill:#f1f8e9,stroke:#689f38,stroke-width:3px,color:#000,font-size:12px,text-align:left
class Medication node_6_color

classDef node_7_color fill:#fff8e1,stroke:#ffa000,stroke-width:3px,color:#000,font-size:12px,text-align:left
class TreatmentArm node_7_color

classDef node_8_color fill:#e8eaf6,stroke:#3f51b5,stroke-width:3px,color:#000,font-size:12px,text-align:left
class ClinicalOutcome node_8_color

classDef node_9_color fill:#efebe9,stroke:#5d4037,stroke-width:3px,color:#000,font-size:12px,text-align:left
class MedicalCondition node_9_color

classDef node_10_color fill:#fafafa,stroke:#424242,stroke-width:3px,color:#000,font-size:12px,text-align:left
class StudyPopulation node_10_color